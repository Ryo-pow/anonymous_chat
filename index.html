<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>匿名チャット</title>
</head>
<body>
    <h1>匿名チャット</h1>

    <input type="text" id="messageInput" placeholder="メッセージを入力...">

    <button onclick="sendWhisper()">送信</button>

    <div id="chatLog"></div>

    <script>
        // ここにJavaScript（動き）を書いていきます
        async function sendWhisper() {
            // 入力欄から文字を読み取る
            const input = document.getElementById("messageInput");
            const text = input.value;

            if (!text) return;

            const response = await fetch("http://127.0.0.1:8000/whisper?message=" + encodeURIComponent(text),{
                method: "POST"
            });

            const result = await response.json();
            console.log("サーバーからの返事:", result);
            // 入力欄を空にする
            input.value = "";
        }
    </script>
</body>
</html>
